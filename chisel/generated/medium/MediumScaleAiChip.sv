// Generated by CIRCT firtool-1.62.0
// Standard header to adapt well known macros for register randomization.
`ifndef RANDOMIZE
  `ifdef RANDOMIZE_REG_INIT
    `define RANDOMIZE
  `endif // RANDOMIZE_REG_INIT
`endif // not def RANDOMIZE

// RANDOM may be set to an expression that produces a 32-bit random unsigned value.
`ifndef RANDOM
  `define RANDOM $random
`endif // not def RANDOM

// Users can define INIT_RANDOM as general code that gets injected into the
// initializer block for modules with registers.
`ifndef INIT_RANDOM
  `define INIT_RANDOM
`endif // not def INIT_RANDOM

// If using random initialization, you can also define RANDOMIZE_DELAY to
// customize the delay used, otherwise 0.002 is used.
`ifndef RANDOMIZE_DELAY
  `define RANDOMIZE_DELAY 0.002
`endif // not def RANDOMIZE_DELAY

// Define INIT_RANDOM_PROLOG_ for use in our modules below.
`ifndef INIT_RANDOM_PROLOG_
  `ifdef RANDOMIZE
    `ifdef VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM
    `else  // VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM #`RANDOMIZE_DELAY begin end
    `endif // VERILATOR
  `else  // RANDOMIZE
    `define INIT_RANDOM_PROLOG_
  `endif // RANDOMIZE
`endif // not def INIT_RANDOM_PROLOG_

// Include register initializers in init blocks unless synthesis is set
`ifndef SYNTHESIS
  `ifndef ENABLE_INITIAL_REG_
    `define ENABLE_INITIAL_REG_
  `endif // not def ENABLE_INITIAL_REG_
`endif // not def SYNTHESIS

// Include rmemory initializers in init blocks unless synthesis is set
`ifndef SYNTHESIS
  `ifndef ENABLE_INITIAL_MEM_
    `define ENABLE_INITIAL_MEM_
  `endif // not def ENABLE_INITIAL_MEM_
`endif // not def SYNTHESIS

module MatrixMultiplier(	// src/main/scala/MatrixMultiplier.scala:33:7
  input  clock,	// <stdin>:1150:11, :1271:11, :1392:11, :1513:11
         reset,	// <stdin>:1151:11, :1272:11, :1393:11, :1514:11
  output io_done,	// src/main/scala/MatrixMultiplier.scala:39:14
         io_busy	// src/main/scala/MatrixMultiplier.scala:39:14
);

  reg [1:0]  state;	// src/main/scala/MatrixMultiplier.scala:84:22
  reg [12:0] cycleCounter;	// src/main/scala/MatrixMultiplier.scala:88:29
  always @(posedge clock) begin	// <stdin>:1150:11, :1271:11, :1392:11, :1513:11
    if (reset) begin	// <stdin>:1150:11, :1271:11, :1392:11, :1513:11
      state <= 2'h0;	// src/main/scala/MatrixMultiplier.scala:84:22
      cycleCounter <= 13'h0;	// src/main/scala/MatrixMultiplier.scala:88:29
    end
    else begin	// <stdin>:1150:11, :1271:11, :1392:11, :1513:11
      automatic logic [3:0][1:0] _GEN;	// src/main/scala/MatrixMultiplier.scala:84:22, :128:17, :130:22, :140:50, :147:23, :148:15
      _GEN = {{state}, {2'h0}, {cycleCounter == 13'hFFF ? 2'h2 : state}, {state}};	// src/main/scala/MatrixMultiplier.scala:84:22, :88:29, :128:17, :130:22, :140:{25,50}, :142:15, :147:23, :148:15
      state <= _GEN[state];	// src/main/scala/MatrixMultiplier.scala:84:22, :128:17, :130:22, :140:50, :147:23, :148:15
      if (state == 2'h0 | state != 2'h1) begin	// src/main/scala/MatrixMultiplier.scala:84:22, :128:17, :130:22, :131:15
      end
      else	// src/main/scala/MatrixMultiplier.scala:128:17, :130:22
        cycleCounter <= cycleCounter + 13'h1;	// src/main/scala/MatrixMultiplier.scala:88:29, :139:36
    end
  end // always @(posedge)
  `ifdef ENABLE_INITIAL_REG_	// src/main/scala/MatrixMultiplier.scala:33:7
    `ifdef FIRRTL_BEFORE_INITIAL	// src/main/scala/MatrixMultiplier.scala:33:7
      `FIRRTL_BEFORE_INITIAL	// src/main/scala/MatrixMultiplier.scala:33:7
    `endif // FIRRTL_BEFORE_INITIAL
    initial begin	// src/main/scala/MatrixMultiplier.scala:33:7
      automatic logic [31:0] _RANDOM[0:0];	// src/main/scala/MatrixMultiplier.scala:33:7
      `ifdef INIT_RANDOM_PROLOG_	// src/main/scala/MatrixMultiplier.scala:33:7
        `INIT_RANDOM_PROLOG_	// src/main/scala/MatrixMultiplier.scala:33:7
      `endif // INIT_RANDOM_PROLOG_
      `ifdef RANDOMIZE_REG_INIT	// src/main/scala/MatrixMultiplier.scala:33:7
        _RANDOM[/*Zero width*/ 1'b0] = `RANDOM;	// src/main/scala/MatrixMultiplier.scala:33:7
        state = _RANDOM[/*Zero width*/ 1'b0][1:0];	// src/main/scala/MatrixMultiplier.scala:33:7, :84:22
        cycleCounter = _RANDOM[/*Zero width*/ 1'b0][14:2];	// src/main/scala/MatrixMultiplier.scala:33:7, :84:22, :88:29
      `endif // RANDOMIZE_REG_INIT
    end // initial
    `ifdef FIRRTL_AFTER_INITIAL	// src/main/scala/MatrixMultiplier.scala:33:7
      `FIRRTL_AFTER_INITIAL	// src/main/scala/MatrixMultiplier.scala:33:7
    `endif // FIRRTL_AFTER_INITIAL
  `endif // ENABLE_INITIAL_REG_
  assign io_done = state == 2'h2;	// src/main/scala/MatrixMultiplier.scala:33:7, :84:22, :142:15, :188:20
  assign io_busy = |state;	// src/main/scala/MatrixMultiplier.scala:33:7, :84:22, :187:20
endmodule

module MediumScaleAiChip(	// src/main/scala/SimpleScalableDesign.scala:189:7
  input         clock,	// <stdin>:1622:11
                reset,	// <stdin>:1623:11
  input  [11:0] io_axi_awaddr,	// src/main/scala/SimpleScalableDesign.scala:198:14
  input         io_axi_awvalid,	// src/main/scala/SimpleScalableDesign.scala:198:14
  output        io_axi_awready,	// src/main/scala/SimpleScalableDesign.scala:198:14
  input  [31:0] io_axi_wdata,	// src/main/scala/SimpleScalableDesign.scala:198:14
  input  [3:0]  io_axi_wstrb,	// src/main/scala/SimpleScalableDesign.scala:198:14
  input         io_axi_wvalid,	// src/main/scala/SimpleScalableDesign.scala:198:14
  output        io_axi_wready,	// src/main/scala/SimpleScalableDesign.scala:198:14
  output [1:0]  io_axi_bresp,	// src/main/scala/SimpleScalableDesign.scala:198:14
  output        io_axi_bvalid,	// src/main/scala/SimpleScalableDesign.scala:198:14
  input         io_axi_bready,	// src/main/scala/SimpleScalableDesign.scala:198:14
  input  [11:0] io_axi_araddr,	// src/main/scala/SimpleScalableDesign.scala:198:14
  input         io_axi_arvalid,	// src/main/scala/SimpleScalableDesign.scala:198:14
  output        io_axi_arready,	// src/main/scala/SimpleScalableDesign.scala:198:14
  output [31:0] io_axi_rdata,	// src/main/scala/SimpleScalableDesign.scala:198:14
  output [1:0]  io_axi_rresp,	// src/main/scala/SimpleScalableDesign.scala:198:14
  output        io_axi_rvalid,	// src/main/scala/SimpleScalableDesign.scala:198:14
  input         io_axi_rready,	// src/main/scala/SimpleScalableDesign.scala:198:14
  output        io_status_busy,	// src/main/scala/SimpleScalableDesign.scala:198:14
                io_status_done,	// src/main/scala/SimpleScalableDesign.scala:198:14
                io_status_error,	// src/main/scala/SimpleScalableDesign.scala:198:14
  output [7:0]  io_status_progress,	// src/main/scala/SimpleScalableDesign.scala:198:14
  output [31:0] io_perf_counters_0,	// src/main/scala/SimpleScalableDesign.scala:198:14
                io_perf_counters_1,	// src/main/scala/SimpleScalableDesign.scala:198:14
                io_perf_counters_2,	// src/main/scala/SimpleScalableDesign.scala:198:14
                io_perf_counters_3,	// src/main/scala/SimpleScalableDesign.scala:198:14
                io_perf_counters_4,	// src/main/scala/SimpleScalableDesign.scala:198:14
                io_perf_counters_5,	// src/main/scala/SimpleScalableDesign.scala:198:14
                io_perf_counters_6,	// src/main/scala/SimpleScalableDesign.scala:198:14
                io_perf_counters_7,	// src/main/scala/SimpleScalableDesign.scala:198:14
                io_perf_counters_8,	// src/main/scala/SimpleScalableDesign.scala:198:14
                io_perf_counters_9,	// src/main/scala/SimpleScalableDesign.scala:198:14
                io_perf_counters_10,	// src/main/scala/SimpleScalableDesign.scala:198:14
                io_perf_counters_11,	// src/main/scala/SimpleScalableDesign.scala:198:14
                io_perf_counters_12,	// src/main/scala/SimpleScalableDesign.scala:198:14
                io_perf_counters_13,	// src/main/scala/SimpleScalableDesign.scala:198:14
                io_perf_counters_14,	// src/main/scala/SimpleScalableDesign.scala:198:14
                io_perf_counters_15,	// src/main/scala/SimpleScalableDesign.scala:198:14
  output [3:0]  io_interrupts	// src/main/scala/SimpleScalableDesign.scala:198:14
);

  wire        _matrixUnits_3_io_done;	// src/main/scala/SimpleScalableDesign.scala:239:52
  wire        _matrixUnits_3_io_busy;	// src/main/scala/SimpleScalableDesign.scala:239:52
  wire        _matrixUnits_2_io_done;	// src/main/scala/SimpleScalableDesign.scala:239:52
  wire        _matrixUnits_2_io_busy;	// src/main/scala/SimpleScalableDesign.scala:239:52
  wire        _matrixUnits_1_io_done;	// src/main/scala/SimpleScalableDesign.scala:239:52
  wire        _matrixUnits_1_io_busy;	// src/main/scala/SimpleScalableDesign.scala:239:52
  wire        _matrixUnits_0_io_done;	// src/main/scala/SimpleScalableDesign.scala:239:52
  wire        _matrixUnits_0_io_busy;	// src/main/scala/SimpleScalableDesign.scala:239:52
  reg  [31:0] perfCounters_0;	// src/main/scala/SimpleScalableDesign.scala:245:42
  reg  [31:0] perfCounters_1;	// src/main/scala/SimpleScalableDesign.scala:245:42
  reg  [31:0] perfCounters_2;	// src/main/scala/SimpleScalableDesign.scala:245:42
  reg  [31:0] perfCounters_3;	// src/main/scala/SimpleScalableDesign.scala:245:42
  reg         io_axi_bvalid_REG;	// src/main/scala/SimpleScalableDesign.scala:285:27
  reg         io_axi_rvalid_REG;	// src/main/scala/SimpleScalableDesign.scala:289:27
  wire        anyBusy =
    _matrixUnits_0_io_busy | _matrixUnits_1_io_busy | _matrixUnits_2_io_busy
    | _matrixUnits_3_io_busy;	// src/main/scala/SimpleScalableDesign.scala:239:52, :292:53
  wire        anyDone =
    _matrixUnits_0_io_done | _matrixUnits_1_io_done | _matrixUnits_2_io_done
    | _matrixUnits_3_io_done;	// src/main/scala/SimpleScalableDesign.scala:239:52, :293:53
  always @(posedge clock) begin	// <stdin>:1622:11
    if (reset) begin	// <stdin>:1622:11
      perfCounters_0 <= 32'h0;	// src/main/scala/SimpleScalableDesign.scala:189:7, :245:42
      perfCounters_1 <= 32'h0;	// src/main/scala/SimpleScalableDesign.scala:189:7, :245:42
      perfCounters_2 <= 32'h0;	// src/main/scala/SimpleScalableDesign.scala:189:7, :245:42
      perfCounters_3 <= 32'h0;	// src/main/scala/SimpleScalableDesign.scala:189:7, :245:42
    end
    else begin	// <stdin>:1622:11
      if (anyBusy)	// src/main/scala/SimpleScalableDesign.scala:292:53
        perfCounters_0 <= perfCounters_0 + 32'h1;	// src/main/scala/SimpleScalableDesign.scala:245:42, :308:40
      if (anyDone)	// src/main/scala/SimpleScalableDesign.scala:293:53
        perfCounters_1 <= perfCounters_1 + 32'h1;	// src/main/scala/SimpleScalableDesign.scala:245:42, :308:40, :311:40
      perfCounters_2 <= perfCounters_2 + 32'h40;	// src/main/scala/SimpleScalableDesign.scala:245:42, :315:38
      perfCounters_3 <=
        perfCounters_3
        + {29'h0,
           {1'h0, {1'h0, _matrixUnits_0_io_busy} + {1'h0, _matrixUnits_1_io_busy}}
             + {1'h0, {1'h0, _matrixUnits_2_io_busy} + {1'h0, _matrixUnits_3_io_busy}}};	// src/main/scala/SimpleScalableDesign.scala:239:52, :245:42, :265:39, :317:35, :318:38
    end
    io_axi_bvalid_REG <= io_axi_awvalid & io_axi_wvalid;	// src/main/scala/SimpleScalableDesign.scala:285:{27,43}
    io_axi_rvalid_REG <= io_axi_arvalid;	// src/main/scala/SimpleScalableDesign.scala:289:27
  end // always @(posedge)
  `ifdef ENABLE_INITIAL_REG_	// src/main/scala/SimpleScalableDesign.scala:189:7
    `ifdef FIRRTL_BEFORE_INITIAL	// src/main/scala/SimpleScalableDesign.scala:189:7
      `FIRRTL_BEFORE_INITIAL	// src/main/scala/SimpleScalableDesign.scala:189:7
    `endif // FIRRTL_BEFORE_INITIAL
    initial begin	// src/main/scala/SimpleScalableDesign.scala:189:7
      automatic logic [31:0] _RANDOM[0:19];	// src/main/scala/SimpleScalableDesign.scala:189:7
      `ifdef INIT_RANDOM_PROLOG_	// src/main/scala/SimpleScalableDesign.scala:189:7
        `INIT_RANDOM_PROLOG_	// src/main/scala/SimpleScalableDesign.scala:189:7
      `endif // INIT_RANDOM_PROLOG_
      `ifdef RANDOMIZE_REG_INIT	// src/main/scala/SimpleScalableDesign.scala:189:7
        for (logic [4:0] i = 5'h0; i < 5'h14; i += 5'h1) begin
          _RANDOM[i] = `RANDOM;	// src/main/scala/SimpleScalableDesign.scala:189:7
        end	// src/main/scala/SimpleScalableDesign.scala:189:7
        perfCounters_0 = _RANDOM[5'h0];	// src/main/scala/SimpleScalableDesign.scala:189:7, :245:42
        perfCounters_1 = _RANDOM[5'h1];	// src/main/scala/SimpleScalableDesign.scala:189:7, :245:42
        perfCounters_2 = _RANDOM[5'h2];	// src/main/scala/SimpleScalableDesign.scala:189:7, :245:42
        perfCounters_3 = _RANDOM[5'h3];	// src/main/scala/SimpleScalableDesign.scala:189:7, :245:42
        io_axi_bvalid_REG = _RANDOM[5'h13][0];	// src/main/scala/SimpleScalableDesign.scala:189:7, :285:27
        io_axi_rvalid_REG = _RANDOM[5'h13][1];	// src/main/scala/SimpleScalableDesign.scala:189:7, :285:27, :289:27
      `endif // RANDOMIZE_REG_INIT
    end // initial
    `ifdef FIRRTL_AFTER_INITIAL	// src/main/scala/SimpleScalableDesign.scala:189:7
      `FIRRTL_AFTER_INITIAL	// src/main/scala/SimpleScalableDesign.scala:189:7
    `endif // FIRRTL_AFTER_INITIAL
  `endif // ENABLE_INITIAL_REG_
  MatrixMultiplier matrixUnits_0 (	// src/main/scala/SimpleScalableDesign.scala:239:52
    .clock   (clock),
    .reset   (reset),
    .io_done (_matrixUnits_0_io_done),
    .io_busy (_matrixUnits_0_io_busy)
  );
  MatrixMultiplier matrixUnits_1 (	// src/main/scala/SimpleScalableDesign.scala:239:52
    .clock   (clock),
    .reset   (reset),
    .io_done (_matrixUnits_1_io_done),
    .io_busy (_matrixUnits_1_io_busy)
  );
  MatrixMultiplier matrixUnits_2 (	// src/main/scala/SimpleScalableDesign.scala:239:52
    .clock   (clock),
    .reset   (reset),
    .io_done (_matrixUnits_2_io_done),
    .io_busy (_matrixUnits_2_io_busy)
  );
  MatrixMultiplier matrixUnits_3 (	// src/main/scala/SimpleScalableDesign.scala:239:52
    .clock   (clock),
    .reset   (reset),
    .io_done (_matrixUnits_3_io_done),
    .io_busy (_matrixUnits_3_io_busy)
  );
  assign io_axi_awready = 1'h1;	// src/main/scala/SimpleScalableDesign.scala:189:7, :282:18
  assign io_axi_wready = 1'h1;	// src/main/scala/SimpleScalableDesign.scala:189:7, :282:18
  assign io_axi_bresp = 2'h0;	// src/main/scala/SimpleScalableDesign.scala:189:7, :284:16
  assign io_axi_bvalid = io_axi_bvalid_REG;	// src/main/scala/SimpleScalableDesign.scala:189:7, :285:27
  assign io_axi_arready = 1'h1;	// src/main/scala/SimpleScalableDesign.scala:189:7, :282:18
  assign io_axi_rdata = 32'h0;	// src/main/scala/SimpleScalableDesign.scala:189:7
  assign io_axi_rresp = 2'h0;	// src/main/scala/SimpleScalableDesign.scala:189:7, :284:16
  assign io_axi_rvalid = io_axi_rvalid_REG;	// src/main/scala/SimpleScalableDesign.scala:189:7, :289:27
  assign io_status_busy = anyBusy;	// src/main/scala/SimpleScalableDesign.scala:189:7, :292:53
  assign io_status_done = anyDone;	// src/main/scala/SimpleScalableDesign.scala:189:7, :293:53
  assign io_status_error = 1'h0;	// src/main/scala/SimpleScalableDesign.scala:189:7, :265:39
  assign io_status_progress =
    {5'h0,
     {1'h0, {1'h0, _matrixUnits_0_io_done} + {1'h0, _matrixUnits_1_io_done}}
       + {1'h0, {1'h0, _matrixUnits_2_io_done} + {1'h0, _matrixUnits_3_io_done}}};	// src/main/scala/SimpleScalableDesign.scala:189:7, :239:52, :265:39, :298:{22,33}
  assign io_perf_counters_0 = perfCounters_0;	// src/main/scala/SimpleScalableDesign.scala:189:7, :245:42
  assign io_perf_counters_1 = perfCounters_1;	// src/main/scala/SimpleScalableDesign.scala:189:7, :245:42
  assign io_perf_counters_2 = perfCounters_2;	// src/main/scala/SimpleScalableDesign.scala:189:7, :245:42
  assign io_perf_counters_3 = perfCounters_3;	// src/main/scala/SimpleScalableDesign.scala:189:7, :245:42
  assign io_perf_counters_4 = 32'h0;	// src/main/scala/SimpleScalableDesign.scala:189:7
  assign io_perf_counters_5 = 32'h0;	// src/main/scala/SimpleScalableDesign.scala:189:7
  assign io_perf_counters_6 = 32'h0;	// src/main/scala/SimpleScalableDesign.scala:189:7
  assign io_perf_counters_7 = 32'h0;	// src/main/scala/SimpleScalableDesign.scala:189:7
  assign io_perf_counters_8 = 32'h0;	// src/main/scala/SimpleScalableDesign.scala:189:7
  assign io_perf_counters_9 = 32'h0;	// src/main/scala/SimpleScalableDesign.scala:189:7
  assign io_perf_counters_10 = 32'h0;	// src/main/scala/SimpleScalableDesign.scala:189:7
  assign io_perf_counters_11 = 32'h0;	// src/main/scala/SimpleScalableDesign.scala:189:7
  assign io_perf_counters_12 = 32'h0;	// src/main/scala/SimpleScalableDesign.scala:189:7
  assign io_perf_counters_13 = 32'h0;	// src/main/scala/SimpleScalableDesign.scala:189:7
  assign io_perf_counters_14 = 32'h0;	// src/main/scala/SimpleScalableDesign.scala:189:7
  assign io_perf_counters_15 = 32'h0;	// src/main/scala/SimpleScalableDesign.scala:189:7
  assign io_interrupts = {2'h0, anyDone, anyBusy};	// src/main/scala/SimpleScalableDesign.scala:189:7, :284:16, :292:53, :293:53, :304:23
endmodule

